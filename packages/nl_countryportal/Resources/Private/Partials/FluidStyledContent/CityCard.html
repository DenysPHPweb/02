<a href="{cityPage.slug}" class="block xl:w-1/4 md:w-1/2 p-4">
  <div class="bg-gray-100 p-6 rounded-lg">

    {flux:form.data(table:'pages', field:'tx_fed_page_flexform', uid:'{cityPage.uid}')
    -> v:variable.set(name: 'pageData')}

    {v:resource.record.fal(table: 'pages', field: 'settings.cardImage', record: cityPage)
    -> v:iterator.first()
    -> v:variable.set(name: 'cardImage')}

    <f:if condition="{cardImage}">
      <img class="h-40 rounded w-full object-cover object-center mb-6"
           src="{v:uri.image(src: cardImage.uid, quality: 87, maxW: 350, treatIdAsReference: 1, crop: cardImage.crop)}"
           alt="{cardImage.alternative}">
    </f:if>

    <h2 class="text-lg text-gray-900 font-medium title-font mb-4">
      {cityPage.title}
    </h2>

    <f:if condition="{pageData.settings.cardText}">
      <p class="leading-relaxed text-base">
        <f:format.html>{pageData.settings.cardText}</f:format.html>
      </p>
    </f:if>

  </div>
</a>